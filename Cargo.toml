[package]
name = "dalybms"
version = "0.1.0"
edition = "2021"

[lib]
name = "dalybms_lib"
path = "src/lib.rs"

[[bin]]
name = "dalybms"
path = "src/main.rs"
required-features = ["bin-dependencies"]

[features]
default = ["bin-dependencies"]
serialport = ["dep:serialport", "dep:anyhow"]
bin-dependencies = [
    "dep:anyhow",
    "serialport",
    "clap/derive",
    "dep:clap-verbosity-flag",
    "dep:clap-num",
    "dep:humantime",
    "dep:flexi_logger",
]

[dependencies]
# Requirements for bin
log = { version = "0.4" }
anyhow = { version = "1", optional = true }
serialport = { version = "4", optional = true }
clap = { version = "4", optional = true }
clap-verbosity-flag = { version = "2", optional = true }
clap-num = { version = "1", optional = true }
humantime = { version = "2", optional = true }
flexi_logger = { version = "0.27", optional = true }
